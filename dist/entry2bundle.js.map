{"version":3,"file":"entry2bundle.js","mappings":"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","sources":["webpack://cart-game/webpack/bootstrap","webpack://cart-game/webpack/runtime/make namespace object","webpack://cart-game/./src/game.ts"],"sourcesContent":["// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import '../static/css/game-style.css';\r\n\r\n\r\nlet level: string | null = localStorage.getItem('level');\r\nlet totalCards: number | null = null;\r\nconst board = document.querySelector('.carts');\r\nconst suits = ['chervi', 'bubi', 'kresti', 'piki'];\r\nconst ranks = ['6', '7', '8', '9', '10', 'Q', 'K', 'J', 'A'];\r\ntype TypeSelectedCards = {\r\n    suit: string,\r\n    rank: string\r\n};\r\nlet selectedCards: TypeSelectedCards[] = [];\r\nlet gameIsStart = false;\r\nlet timer: HTMLElement | null = document.querySelector('.time-time');\r\nlet modalWrapper = document.querySelector('.modalWrapper');\r\n\r\nswitch (level) {\r\n    case 'easy':\r\n        totalCards = 6;\r\n        break;\r\n\r\n    case 'medium':\r\n        totalCards = 12;\r\n        break;\r\n\r\n    default:\r\n        totalCards = 18;\r\n        break;\r\n}\r\n\r\nconst onCardClick = (elem: HTMLElement, suit: string, rank: string, hiddenImg:HTMLImageElement) => {\r\n    elem.removeChild(hiddenImg);\r\n    elem.classList.add('active');\r\n\r\n    const cardSuit = document.createElement('img');\r\n    cardSuit.classList.add('suit');\r\n    cardSuit.src = `static/img/${suit}.svg`;\r\n    cardSuit.alt = 'cardSuit';\r\n\r\n    for (let index = 0; index < 2; index++) {\r\n        const miniCardSuit = document.createElement('img');\r\n        miniCardSuit.classList.add('suit-mini');\r\n        miniCardSuit.src = `static/img/${suit}.svg`;\r\n        miniCardSuit.alt = 'cardSuitMini';\r\n\r\n        const rankNumber: HTMLDivElement = document.createElement('div');\r\n        rankNumber.textContent = rank;\r\n\r\n        const cardTopRankContainer = document.createElement('div');\r\n        const cardBottomRankContainer = document.createElement('div');\r\n\r\n        if (index === 0) {\r\n            cardTopRankContainer.classList.add('card-top-rank-container');\r\n            cardTopRankContainer.append(rankNumber, miniCardSuit);\r\n        } else {\r\n            cardBottomRankContainer.classList.add('card-bottom-rank-container');\r\n            cardBottomRankContainer.append(rankNumber, miniCardSuit);\r\n        }\r\n\r\n        elem.append(\r\n            index === 0 ? cardTopRankContainer : cardBottomRankContainer,\r\n            cardSuit,\r\n        );\r\n    }\r\n\r\n    if (gameIsStart) {\r\n        selectedCards = [...selectedCards, { suit, rank}];\r\n        checkIsGameFinish();\r\n    }\r\n};\r\n\r\n// функция таймера\r\nconst Timer = () => {\r\n    let minutesAndSeconds;\r\n\r\n    if (timer) {\r\n       minutesAndSeconds =timer.innerHTML.split('.')\r\n       \r\n       if (parseInt(minutesAndSeconds[1]) >= 60) {\r\n        minutesAndSeconds[0] = `${\r\n            parseInt(minutesAndSeconds[0]) < 9 ? '0' : ''\r\n        }${parseInt(minutesAndSeconds[0]) + 1}`;\r\n        minutesAndSeconds[1] = '00';\r\n    } else {\r\n        minutesAndSeconds[1] = `${\r\n            parseInt(minutesAndSeconds[1]) < 9 ? '0' : ''\r\n        }${parseInt(minutesAndSeconds[1]) + 1}`;\r\n    }\r\n\r\n    timer.innerHTML = minutesAndSeconds.join('.');\r\n    }\r\n};\r\nlet TimerId: number | undefined;\r\n// функция запуска таймера\r\nconst startTimer = () => {\r\n    TimerId = window.setInterval(Timer, 1000); \r\n};\r\n\r\nconst startGame = () => {\r\n    if (gameIsStart) {\r\n        modalWrapper?.replaceChildren();\r\n        gameIsStart = false;\r\n        selectedCards = [];\r\n        board?.replaceChildren();\r\n        window.clearInterval(TimerId);\r\n        timer!.innerHTML = '00.00';\r\n    }\r\n\r\n    setTimeout(() => {\r\n        startTimer();\r\n    }, 5000);\r\n\r\n    const numPairs = totalCards !== null ? totalCards / 2 : 0;\r\n\r\n    for (let index = 0; index < numPairs; index++) {\r\n        const suit = suits[Math.floor(Math.random() * suits.length)];\r\n        const rank = ranks[Math.floor(Math.random() * ranks.length)];\r\n\r\n        for (let index = 0; index < 2; index++) {\r\n            const card = document.createElement('p');\r\n            card.classList.add('card-background');\r\n\r\n            const hiddenImg = document.createElement('img');\r\n            hiddenImg.classList.add('cart');\r\n            hiddenImg.src = '../static/img/rubashka.jpg';\r\n            hiddenImg.alt = 'rubashka';\r\n\r\n            card.addEventListener('click', () =>\r\n                onCardClick(card, suit, rank, hiddenImg),\r\n            );\r\n\r\n            card.append(hiddenImg);\r\n            board?.append(card);\r\n\r\n            onCardClick(card, suit, rank, hiddenImg);\r\n\r\n            setTimeout(() => {\r\n                card.replaceChildren(hiddenImg);\r\n                card.classList.remove('active');\r\n                gameIsStart = true;\r\n            }, 5000);\r\n        }\r\n    }\r\n\r\n    // Перетасовка карт\r\n    for (let index: number = board?.children.length!; index >= 0; index--) {\r\n        board?.appendChild(board.children[(Math.random() * index) | 0]);\r\n    }\r\n};\r\n\r\nstartGame();\r\n\r\n// Кнока рестарта игры\r\n\r\ndocument.getElementById('start-over')?.addEventListener('click', () => {\r\n    board?.replaceChildren();\r\n    startGame();\r\n    window.clearInterval(TimerId);\r\n    gameIsStart = false;\r\n    selectedCards = [];\r\n    timer!.innerHTML = '00.00';\r\n});\r\n\r\nconst checkIsGameFinish = () => {\r\n    if (selectedCards.length >= 2 && gameIsStart) {\r\n        if (\r\n            selectedCards[0].suit === selectedCards[1].suit &&\r\n            selectedCards[0].rank === selectedCards[1].rank\r\n        ) {\r\n            window.clearInterval(TimerId);\r\n            modalWrapper!.innerHTML += `\r\n                <div class=\"modal-bg\">\r\n                    <div class=\"modal\">\r\n                        <img src=\"/static/img/win.png\" alt=\"win\">\r\n                        <h2 class=\"modal-title\">Вы выиграли!</h2>\r\n                        <p class=\"timer-title\">Затраченное время:</p>\r\n                        <h1 class=\"timer-count\">${timer?.innerHTML}</h1>\r\n                        <button class=\"btn playAgain\">Играть снова</button>\r\n                    </div>\r\n                </div>\r\n            `;\r\n        } else {\r\n            window.clearInterval(TimerId);\r\n            modalWrapper!.innerHTML += `\r\n                <div class=\"modal-bg\">\r\n                    <div class=\"modal\">\r\n                        <img src=\"/static/img/lose.png\" alt=\"lose\">\r\n                        <h2 class=\"modal-title\">Вы проиграли!</h2>\r\n                        <p class=\"timer-title\">Затраченное время:</p>\r\n                        <h1 class=\"timer-count\">${timer?.innerHTML}</h1>\r\n                        <button class=\"btn playAgain\">Играть снова</button>\r\n                    </div>\r\n                </div>\r\n            `;\r\n        }\r\n\r\n        let playAgain = document.querySelector('.playAgain');\r\n\r\n        if (playAgain !== null) {\r\n\r\n            playAgain.addEventListener('click', startGame);\r\n        }\r\n    };\r\n}\r\n"],"names":["__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","r","Symbol","toStringTag","Object","defineProperty","value","level","localStorage","getItem","totalCards","board","document","querySelector","suits","ranks","selectedCards","gameIsStart","timer","modalWrapper","onCardClick","elem","suit","rank","hiddenImg","removeChild","classList","add","cardSuit","createElement","src","alt","index","miniCardSuit","rankNumber","textContent","cardTopRankContainer","cardBottomRankContainer","append","checkIsGameFinish","Timer","minutesAndSeconds","innerHTML","split","parseInt","join","TimerId","startGame","replaceChildren","window","clearInterval","setTimeout","setInterval","numPairs","Math","floor","random","length","card","addEventListener","remove","children","appendChild","getElementById","playAgain"],"sourceRoot":""}